<html>
  <head>
    <style>
      body {font-family: Arial, Helvetica, sans-serif;}
      form.inline { float:left; }
      .clearBoth { clear:both; }

      html {
        min-height: 100%;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        background-repeat:no-repeat;
        background: -webkit-linear-gradient( to left top, #101010, #313131);
        background: -moz-linear-gradient( to left top, #101010, #313131);
        background: -ms-linear-gradient( to left top, #101010, #313131);
        background: -o-linear-gradient( to left top, #101010, #313131);
        background: linear-gradient( to left top, #101010, #313131);
      }
    </style>
    <title>ML Image Processor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.7.1/min/dropzone.min.css">
  </head>
  <body>
    <h1 style="color:rgba(255, 255, 255, 0.888)">ML Image Processor</h1>

    <form class="inline" action="{{ url_for('gallery') }}">
      <input type="submit" value="Gallery">
    </form>
    <form class="inline" action="{{ url_for('zip_and_download') }}" method="get">
      <input type="submit" value="Download Photos">
    </form>    
    <br class="clearBoth" />

    <form action="{{ url_for('upload_files') }}" class="dropzone"></form>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dropzone/5.7.1/min/dropzone.min.js"></script>
    <br class="clearBoth" />

    <h2 style="color:rgba(255, 255, 255, 0.888)">Feature Toggles</h2>
    <form action="{{ url_for('tag_loading') }}" style="color:rgba(255, 255, 255, 0.888)">
      <input type="checkbox" name="object" value="1" checked>
      <scan >Category Tags</scan><br>
      <input type="checkbox" name="face" value="2" checked>
      <scan >People Tags</scan><br>
      <input type="checkbox" name="rotation" value="3" checked>
      <scan>Rotation Correction</scan><br>
      <input type="checkbox" name="low_light" value="4">
      <scan>Low-Light Enhancement <i>(Experimental)</i></scan><br>
      <p> </p>
      <input type="submit" value="Run Features">
    </form>
    <br class="clearBoth" />

    <h2 style="color:rgba(255, 255, 255, 0.888)">Using this Application</h2>
    <ol style="color:rgba(255, 255, 255, 0.888)">
      <li>Click on the white box above to select which images to upload, or drag them the box</li>
      <li>Click on the <b>Run Features</b> button to run the images through the selected features,
        out of the following:
        <ol type="a">
          <li>Category Tags: identifies common objects in an image and uses them to tag the image with one or more categories
            <ul>
              <li> Categories include: Portrait, Group Photo, Urban, Pet, Nature, Sports, Food</li>
              <li>The objects that the models are trained to detect, and how they map to the categories,
                are listed in <code>tagger/categories.py</code></li>
            </ul>
          </li>
          <li>People Tags: tags images with the faces it was pretrained on</li>
          <li>Rotation Correction: detects crooked images, straightens them out, then crops out the black borders
            that resulted from the rotation</li>
          <li>Low-Light Enhancement: detects dark images and outputs a better-lit version
            <ul><li><i>Experimental feature:</i> may output images with bright neon spots</li></ul>
          </li>
        </ol>
      </li>
      <li>Click on the <b>Gallery</b> button to view all the uploaded photos
      <li>Click on an image to expand it and view and modify the tags it was given by the ML models</li>
      </li>
      <li>Click on the <b>Download Photos</b> button to download all the uploaded images with their new tags</li>
    </ol>
    <br class="clearBoth" />

    <h4 style="color:rgba(255, 255, 255, 0.888)">Created by Christopher Lee, Juntong Luo, Luka Rogic, and Patrick Creighton</h4>
  </body>
</html>
